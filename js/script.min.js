$(document).ready(function(){function t(t){return document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),-1!=c_start)?(c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}var o=$("#search-input"),e=$("#url-result"),a=$("#cursor"),n=$(".preview-search-link");if(e.attr("value",window.location),e.mouseup(function(){this.select()}),e.focus(function(){this.select()}),"dark"==t("theme")?($("body").addClass("dark-theme").removeClass("light-theme"),$("#ddg-logo").attr("src","img/ddg-logo-dark-theme.png"),$("#ddg-theme-url-param").attr("value","d")):"light"==t("theme")&&($("body").addClass("light-theme").removeClass("dark-theme"),$("#ddg-logo").attr("src","img/ddg-logo-light-theme.png"),$("#ddg-theme-url-param").attr("value","-1")),""==window.location.search)e.attr("value",window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search),$("#search-form").submit(function(t){return t.preventDefault(),t.stopPropagation(),window.location=e.attr("value"),!1}),o.keyup(function(){var t=$("#search-input").val();$(this).attr("value",$(this).val()),e.attr("value",window.location.protocol+"//"+window.location.host+window.location.pathname+"?q="+encodeURIComponent(t)),n.attr("href",window.location.protocol+"//"+window.location.host+window.location.pathname+"?q="+encodeURIComponent(t))});else{var i=decodeURIComponent(window.location.search);"?q="==i.substr(0,3)&&(i=i.substr(3)),i.length>0&&(a.show(),a.attr("src","img/cursor-default.png"),e.text(window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search),e.attr("href",window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search),$("body").width()>650?(a.animate({top:"20px",left:"400px"},2250),setTimeout(function(){a.attr("src","img/cursor-text.png")},1500),o.delay(2250).typetype(i,{callback:function(){a.animate({top:"10px",left:"600px"},1e3),setTimeout(function(){$("#search-submit").addClass("hovered")},800),setTimeout(function(){a.attr("src","img/cursor-pointer.png")},800),setTimeout(function(){$("#search-submit").trigger("click"),$("#search-submit").addClass("active")},1100)}})):$("body").width()<=650&&(a.animate({top:"16px",left:"200px"},1700),setTimeout(function(){a.attr("src","img/cursor-text.png")},1100),o.delay(2e3).typetype(i,{callback:function(){a.animate({top:"10px",left:"260px"},800),setTimeout(function(){$("#search-submit").addClass("hovered")},320),setTimeout(function(){a.attr("src","img/cursor-pointer.png")},320),setTimeout(function(){$("#search-submit").trigger("click")},1e3)}})))}$("#search-form").click(function(){$("#search-input").focus()}),$("#shorten-url-result").click(function(t){t.preventDefault(),t.stopPropagation();var o,a="https://is.gd/create.php?format=json&url="+encodeURIComponent(e.attr("value"));o?e.attr("value",o):$.getJSON(a,function(t){o=t.shorturl,o=o.replace("http:","https:"),e.attr("value",o)})}),$("#dark-theme-icon").click(function(){$("body").addClass("dark-theme").removeClass("light-theme"),$("#ddg-logo").attr("src","img/ddg-logo-dark-theme.png"),$("#ddg-theme-url-param").attr("value","d"),document.cookie="theme=dark; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/;"}),$("#light-theme-icon").click(function(){$("body").addClass("light-theme").removeClass("dark-theme"),$("#ddg-logo").attr("src","img/ddg-logo-light-theme.png"),$("#ddg-theme-url-param").attr("value","-1"),document.cookie="theme=light; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/;"})});
